[debug] [2023-01-16T15:42:02.934Z] ----------------------------------------------------------------------
[debug] [2023-01-16T15:42:02.950Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2023-01-16T15:42:02.953Z] CLI Version:   11.20.0
[debug] [2023-01-16T15:42:02.953Z] Platform:      win32
[debug] [2023-01-16T15:42:02.954Z] Node Version:  v16.18.0
[debug] [2023-01-16T15:42:02.957Z] Time:          Mon Jan 16 2023 16:42:02 GMT+0100 (UTC+01:00)
[debug] [2023-01-16T15:42:02.958Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-16T15:42:03.437Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-16T15:42:03.439Z] > authorizing via signed-in user (idirsalim63@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2023-01-16T15:42:03.502Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-16T15:42:03.504Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-16T15:42:03.506Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-01-16T15:42:03.561Z] [hub] writing locator at C:\Users\DELL\AppData\Local\Temp\hub-chall-dcfa5.json
[debug] [2023-01-16T15:42:03.715Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-16T15:42:03.717Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-16T15:42:03.718Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] +  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-16T15:42:03.835Z] defaultcredentials: writing to file C:\Users\DELL\AppData\Roaming\firebase\idirsalim63_gmail_com_application_default_credentials.json
[debug] [2023-01-16T15:42:03.848Z] Setting GAC to C:\Users\DELL\AppData\Roaming\firebase\idirsalim63_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\DELL\\AppData\\Roaming\\firebase\\idirsalim63_gmail_com_application_default_credentials.json"}}
[debug] [2023-01-16T15:42:03.856Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/adminSdkConfig [none]
[debug] [2023-01-16T15:42:05.094Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/adminSdkConfig 200
[debug] [2023-01-16T15:42:05.095Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/adminSdkConfig {"projectId":"chall-dcfa5","storageBucket":"chall-dcfa5.appspot.com"}
[debug] [2023-01-16T15:42:05.203Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/chall-dcfa5/sites 
[debug] [2023-01-16T15:42:06.491Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/chall-dcfa5/sites 200
[debug] [2023-01-16T15:42:06.491Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/chall-dcfa5/sites {"sites":[{"name":"projects/chall-dcfa5/sites/chall-dcfa5","defaultUrl":"https://chall-dcfa5.web.app","appId":"1:314125026209:web:f3cb1664f8f4b0b7c041e0","type":"DEFAULT_SITE"}]}
[debug] [2023-01-16T15:42:06.492Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/webApps/1:314125026209:web:f3cb1664f8f4b0b7c041e0/config [none]
[debug] [2023-01-16T15:42:07.928Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/webApps/1:314125026209:web:f3cb1664f8f4b0b7c041e0/config 200
[debug] [2023-01-16T15:42:07.929Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5/webApps/1:314125026209:web:f3cb1664f8f4b0b7c041e0/config {"projectId":"chall-dcfa5","appId":"1:314125026209:web:f3cb1664f8f4b0b7c041e0","storageBucket":"chall-dcfa5.appspot.com","apiKey":"AIzaSyALesGjA6LaXhl2L9weGb6uF3tZEWcyzUw","authDomain":"chall-dcfa5.firebaseapp.com","messagingSenderId":"314125026209","measurementId":"G-8JNBSNJBMQ"}
[debug] [2023-01-16T15:42:07.971Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5 [none]
[debug] [2023-01-16T15:42:09.030Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5 200
[debug] [2023-01-16T15:42:09.030Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chall-dcfa5 {"projectId":"chall-dcfa5","projectNumber":"314125026209","displayName":"amazon-chall","name":"projects/chall-dcfa5","resources":{"hostingSite":"chall-dcfa5"},"state":"ACTIVE","etag":"1_fafb621b-efd2-480c-aa0c-9377d00b8bba"}
[info] i  hosting[chall-dcfa5]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[chall-dcfa5]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2023-01-16T15:42:09.091Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-01-16T15:42:09.092Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-01-16T15:42:09.092Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\DELL\\.cache\\firebase\\emulators\\ui-v1.11.2\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\DELL\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.2\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-01-16T15:42:09.540Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-01-16T15:42:09.541Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "E:\projets-local\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"E:\\projets-local\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2023-01-16T15:42:09.677Z] Validating nodejs source
[debug] [2023-01-16T15:42:14.967Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^8.94.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T15:42:14.968Z] Building nodejs source
[debug] [2023-01-16T15:42:14.974Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T15:42:15.776Z] Serving at port 9005

[debug] [2023-01-16T15:42:17.463Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T15:42:17.485Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/chall-dcfa5/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/chall-dcfa5/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-01-16T15:42:42.095Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:42:42.095Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:42:42.097Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:42:42.095Z"],"workRunningCount":1}
[debug] [2023-01-16T15:42:42.099Z] Accepted request GET /chall-dcfa5/us-central1/api --> us-central1-api
[debug] [2023-01-16T15:42:42.110Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:42:42.112Z] [functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/"}}
[debug] [2023-01-16T15:42:42.247Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T15:42:42.248Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-16T15:42:47.738Z] [runtime-status] [23860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:47.742Z] [runtime-status] [23860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:47.744Z] [runtime-status] [23860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T15:42:47.752Z] [runtime-status] [23860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:50.105Z] [runtime-status] [23860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T15:42:50.106Z] [runtime-status] [23860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T15:42:50.110Z] [runtime-status] [23860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:50.118Z] [runtime-status] [23860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:50.190Z] [runtime-status] [23860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:42:50.192Z] [runtime-status] [23860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T15:42:51.741Z] [runtime-status] [23860] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T15:42:51.742Z] [runtime-status] [23860] Listening to port: \\?\pipe\fire_emu_9912cd022b636ae4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23860] Listening to port: \\\\?\\pipe\\fire_emu_9912cd022b636ae4"}}
[debug] [2023-01-16T15:42:51.878Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:42:51.879Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:42:51.880Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T15:42:51.911Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:42:51.911Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 15.4399ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 15.4399ms"}}
[info] i  hosting: 127.0.0.1 - - [16/Jan/2023:15:43:27 +0000] "GET /logo192.png HTTP/1.1" 404 150 "http://127.0.0.1:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.52" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [16/Jan/2023:15:43:27 +0000] \"GET /logo192.png HTTP/1.1\" 404 150 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.52\""}}
[debug] [2023-01-16T15:43:35.455Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:43:35.455Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:43:35.456Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:43:35.455Z"],"workRunningCount":1}
[debug] [2023-01-16T15:43:35.457Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=20499 --> us-central1-api
[debug] [2023-01-16T15:43:35.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:43:35.465Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499"}}
[debug] [2023-01-16T15:43:35.465Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:43:35.466Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  20499 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  20499","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  20499"}}
[debug] [2023-01-16T15:43:36.854Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:43:36.854Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1379.0374ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1379.0374ms"}}
[debug] [2023-01-16T15:44:36.121Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:44:36.121Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:44:36.122Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:44:36.121Z"],"workRunningCount":1}
[debug] [2023-01-16T15:44:36.123Z] Accepted request GET /chall-dcfa5/us-central1/api --> us-central1-api
[debug] [2023-01-16T15:44:36.130Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:44:36.131Z] [functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/"}}
[debug] [2023-01-16T15:44:36.132Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:44:36.132Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T15:44:36.141Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:44:36.142Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.2555ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.2555ms"}}
[info] i  hosting: 127.0.0.1 - - [16/Jan/2023:15:46:52 +0000] "GET /logo192.png HTTP/1.1" 404 150 "http://127.0.0.1:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.52" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [16/Jan/2023:15:46:52 +0000] \"GET /logo192.png HTTP/1.1\" 404 150 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.52\""}}
[debug] [2023-01-16T15:47:04.675Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:47:04.675Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:47:04.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:47:04.675Z"],"workRunningCount":1}
[debug] [2023-01-16T15:47:04.676Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=20499 --> us-central1-api
[debug] [2023-01-16T15:47:04.686Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:47:04.686Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499"}}
[debug] [2023-01-16T15:47:04.687Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:47:04.687Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  20499 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  20499","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  20499"}}
[debug] [2023-01-16T15:47:05.396Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:47:05.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 701.5722ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 701.5722ms"}}
[debug] [2023-01-16T15:51:37.165Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:51:37.165Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:51:37.165Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api-2023-01-16T15:51:37.165Z"],"workRunningCount":1}
[debug] [2023-01-16T15:51:37.166Z] Accepted request GET /chall-dcfa5/us-central1/api --> us-central1-api
[debug] [2023-01-16T15:51:37.172Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:51:37.172Z] [functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api, mapping to path=/"}}
[debug] [2023-01-16T15:51:37.173Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:51:37.173Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T15:51:37.180Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:51:37.181Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2.2265ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.2265ms"}}
[debug] [2023-01-16T15:54:55.432Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:54:55.432Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:54:55.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:54:55.432Z"],"workRunningCount":1}
[debug] [2023-01-16T15:54:55.433Z] Accepted request OPTIONS /chall-dcfa5/us-central1/api/payments/create?total=20499 --> us-central1-api
[debug] [2023-01-16T15:54:55.443Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:54:55.444Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499"}}
[debug] [2023-01-16T15:54:55.444Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:54:55.445Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T15:54:55.453Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:54:55.454Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2.0659ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.0659ms"}}
[debug] [2023-01-16T15:54:55.458Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:54:55.458Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:54:55.458Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:54:55.458Z"],"workRunningCount":1}
[debug] [2023-01-16T15:54:55.459Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=20499 --> us-central1-api
[debug] [2023-01-16T15:54:55.466Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:54:55.467Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499"}}
[debug] [2023-01-16T15:54:55.467Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:54:55.468Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  20499 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  20499","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  20499"}}
[debug] [2023-01-16T15:54:56.399Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:54:56.399Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 925.4883ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 925.4883ms"}}
[debug] [2023-01-16T15:55:10.014Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:55:10.014Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:55:10.014Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:55:10.014Z"],"workRunningCount":1}
[debug] [2023-01-16T15:55:10.014Z] Accepted request OPTIONS /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T15:55:10.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:55:10.022Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T15:55:10.023Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:55:10.023Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T15:55:10.031Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: IDLE"}}
[debug] [2023-01-16T15:55:10.032Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2.4836ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.4836ms"}}
[debug] [2023-01-16T15:55:10.036Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:55:10.036Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:55:10.037Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:55:10.036Z"],"workRunningCount":1}
[debug] [2023-01-16T15:55:10.037Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T15:55:10.045Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:55:10.046Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T15:55:10.046Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T15:55:10.047Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:39 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:39\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:39\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)\r"}}
[info] >      at Object.onceWrapper (node:events:627:28) {"user":"    at Object.onceWrapper (node:events:627:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:627:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:525:35) {"user":"    at IncomingMessage.emit (node:events:525:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:525:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1358:12) {"user":"    at endReadableNT (node:internal/streams/readable:1358:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1358:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_taPfgZixZm5dHB?t=1673884510', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_taPfgZixZm5dHB?t=1673884510',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_taPfgZixZm5dHB?t=1673884510',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 15:55:10 GMT', {"user":"      date: 'Mon, 16 Jan 2023 15:55:10 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 15:55:10 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a', {"user":"      'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a',\r"}}
[info] >        'original-request': 'req_taPfgZixZm5dHB', {"user":"      'original-request': 'req_taPfgZixZm5dHB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_taPfgZixZm5dHB',\r"}}
[info] >        'request-id': 'req_taPfgZixZm5dHB', {"user":"      'request-id': 'req_taPfgZixZm5dHB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_taPfgZixZm5dHB',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_taPfgZixZm5dHB' {"user":"    requestId: 'req_taPfgZixZm5dHB'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_taPfgZixZm5dHB'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 15:55:10 GMT', {"user":"    date: 'Mon, 16 Jan 2023 15:55:10 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 15:55:10 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a', {"user":"    'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '33443f4d-f32d-4e19-bc91-169a20ef168a',\r"}}
[info] >      'original-request': 'req_taPfgZixZm5dHB', {"user":"    'original-request': 'req_taPfgZixZm5dHB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_taPfgZixZm5dHB',\r"}}
[info] >      'request-id': 'req_taPfgZixZm5dHB', {"user":"    'request-id': 'req_taPfgZixZm5dHB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_taPfgZixZm5dHB',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_taPfgZixZm5dHB', {"user":"  requestId: 'req_taPfgZixZm5dHB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_taPfgZixZm5dHB',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T15:55:10.717Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:55:10.725Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: exited"}}
[debug] [2023-01-16T15:55:10.725Z] [worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a701c10e-22d1-437b-97b2-2d9b42bd6720]: FINISHED"}}
[debug] [2023-01-16T15:58:05.015Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:58:05.015Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:58:05.016Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T15:58:05.015Z"],"workRunningCount":1}
[debug] [2023-01-16T15:58:05.016Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=29999 --> us-central1-api
[debug] [2023-01-16T15:58:05.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T15:58:05.030Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999"}}
[debug] [2023-01-16T15:58:05.030Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-16T15:58:05.070Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T15:58:05.070Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-16T15:58:29.249Z] [runtime-status] [12696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:29.261Z] [runtime-status] [12696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:29.263Z] [runtime-status] [12696] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T15:58:29.267Z] [runtime-status] [12696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:33.074Z] [runtime-status] [12696] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T15:58:33.074Z] [runtime-status] [12696] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T15:58:33.095Z] [runtime-status] [12696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:33.098Z] [runtime-status] [12696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:33.212Z] [runtime-status] [12696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T15:58:33.213Z] [runtime-status] [12696] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-16T15:58:35.168Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T15:58:36.017Z] [runtime-status] [12696] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T15:58:36.017Z] [runtime-status] [12696] Listening to port: \\?\pipe\fire_emu_239a2838730bad5a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12696] Listening to port: \\\\?\\pipe\\fire_emu_239a2838730bad5a"}}
[debug] [2023-01-16T16:03:14.649Z] File E:\projets-local\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-01-16T16:03:15.659Z] Validating nodejs source
[debug] [2023-01-16T16:03:30.885Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^8.94.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T16:03:30.886Z] Building nodejs source
[debug] [2023-01-16T16:03:30.887Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T16:03:31.561Z] Serving at port 9005

[debug] [2023-01-16T16:03:32.444Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T16:03:32.457Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-16T16:07:49.327Z] File E:\projets-local\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-01-16T16:07:50.333Z] Validating nodejs source
[debug] [2023-01-16T16:07:54.453Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^8.94.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T16:07:54.453Z] Building nodejs source
[debug] [2023-01-16T16:07:54.454Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T16:07:55.399Z] Serving at port 9005

[debug] [2023-01-16T16:07:56.056Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T16:07:56.065Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-16T16:08:09.308Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:08:09.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:08:09.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:08:09.308Z"],"workRunningCount":1}
[debug] [2023-01-16T16:08:09.309Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:08:09.373Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:08:09.373Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:08:09.526Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:08:09.526Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-16T16:08:39.585Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:08:43.571Z] [runtime-status] [14460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:43.616Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:43.619Z] [runtime-status] [14460] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:08:43.625Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:49.133Z] [runtime-status] [14460] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:08:49.134Z] [runtime-status] [14460] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:08:49.137Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:49.140Z] [runtime-status] [14460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:49.189Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:08:49.189Z] [runtime-status] [14460] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:08:51.953Z] [runtime-status] [14460] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:08:51.954Z] [runtime-status] [14460] Listening to port: \\?\pipe\fire_emu_3d9bcc5ba78639fa {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14460] Listening to port: \\\\?\\pipe\\fire_emu_3d9bcc5ba78639fa"}}
[debug] [2023-01-16T16:24:22.064Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:24:22.063Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:24:22.065Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:24:22.063Z"],"workRunningCount":1}
[debug] [2023-01-16T16:24:22.065Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=199599 --> us-central1-api
[debug] [2023-01-16T16:24:22.092Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:24:22.093Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599"}}
[debug] [2023-01-16T16:24:22.173Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:24:22.174Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-16T16:24:52.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:25:03.308Z] [runtime-status] [18044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:03.331Z] [runtime-status] [18044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:03.332Z] [runtime-status] [18044] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:25:03.335Z] [runtime-status] [18044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:10.345Z] [runtime-status] [18044] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:25:10.346Z] [runtime-status] [18044] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:25:10.348Z] [runtime-status] [18044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:10.352Z] [runtime-status] [18044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:10.445Z] [runtime-status] [18044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:25:10.445Z] [runtime-status] [18044] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:25:15.941Z] [runtime-status] [18044] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:25:15.942Z] [runtime-status] [18044] Listening to port: \\?\pipe\fire_emu_e46e29763fffc0bc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18044] Listening to port: \\\\?\\pipe\\fire_emu_e46e29763fffc0bc"}}
[debug] [2023-01-16T16:26:46.706Z] File E:\projets-local\amazon-clone\functions\package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\package-lock.json changed, reloading triggers"}}
[debug] [2023-01-16T16:26:46.718Z] File E:\projets-local\amazon-clone\functions\package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\package.json changed, reloading triggers"}}
[debug] [2023-01-16T16:26:47.722Z] Validating nodejs source
[debug] [2023-01-16T16:26:55.126Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^11.6.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T16:26:55.127Z] Building nodejs source
[debug] [2023-01-16T16:26:55.128Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T16:26:56.347Z] Serving at port 9005

[debug] [2023-01-16T16:26:57.549Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T16:26:57.560Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-16T16:26:57.860Z] File E:\projets-local\amazon-clone\functions\package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\package.json changed, reloading triggers"}}
[debug] [2023-01-16T16:26:58.884Z] Validating nodejs source
[debug] [2023-01-16T16:27:05.142Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^11.6.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T16:27:05.142Z] Building nodejs source
[debug] [2023-01-16T16:27:05.143Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T16:27:05.862Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:27:05.862Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:27:05.863Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:27:05.862Z"],"workRunningCount":1}
[debug] [2023-01-16T16:27:05.864Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=199599 --> us-central1-api
[debug] [2023-01-16T16:27:05.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:27:05.873Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599"}}
[debug] [2023-01-16T16:27:05.989Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:27:05.990Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2023-01-16T16:27:06.338Z] Serving at port 9005

[debug] [2023-01-16T16:27:08.066Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T16:27:08.094Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-16T16:27:11.980Z] [runtime-status] [14196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:11.987Z] [runtime-status] [14196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:11.989Z] [runtime-status] [14196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:27:11.993Z] [runtime-status] [14196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:12.780Z] [runtime-status] [14196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:27:12.781Z] [runtime-status] [14196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:27:12.784Z] [runtime-status] [14196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:12.787Z] [runtime-status] [14196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:12.794Z] [runtime-status] [14196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:27:12.795Z] [runtime-status] [14196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:27:13.468Z] [runtime-status] [14196] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:27:13.469Z] [runtime-status] [14196] Listening to port: \\?\pipe\fire_emu_915f4f07690784c8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14196] Listening to port: \\\\?\\pipe\\fire_emu_915f4f07690784c8"}}
[debug] [2023-01-16T16:27:13.565Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE"}}
[debug] [2023-01-16T16:27:13.566Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:27:13.567Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  199599 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  199599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  199599"}}
[debug] [2023-01-16T16:27:16.320Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE"}}
[debug] [2023-01-16T16:27:16.321Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2724.5326ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2724.5326ms"}}
[debug] [2023-01-16T16:27:47.281Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:27:47.281Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:27:47.282Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:27:47.281Z"],"workRunningCount":1}
[debug] [2023-01-16T16:27:47.282Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=199599 --> us-central1-api
[debug] [2023-01-16T16:27:47.289Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:27:47.290Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=199599, mapping to path=/payments/create?total=199599"}}
[debug] [2023-01-16T16:27:47.290Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:27:47.291Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  199599 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  199599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  199599"}}
[debug] [2023-01-16T16:27:47.674Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: IDLE"}}
[debug] [2023-01-16T16:27:47.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 375.1107ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 375.1107ms"}}
[debug] [2023-01-16T16:28:03.093Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:28:03.093Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:28:03.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:28:03.093Z"],"workRunningCount":1}
[debug] [2023-01-16T16:28:03.094Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:28:03.100Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:28:03.100Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:28:03.101Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:28:03.101Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_PIITbREOP89ywy?t=1673886483', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_PIITbREOP89ywy?t=1673886483',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_PIITbREOP89ywy?t=1673886483',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 16:28:03 GMT', {"user":"      date: 'Mon, 16 Jan 2023 16:28:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 16:28:03 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548', {"user":"      'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548',\r"}}
[info] >        'original-request': 'req_PIITbREOP89ywy', {"user":"      'original-request': 'req_PIITbREOP89ywy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_PIITbREOP89ywy',\r"}}
[info] >        'request-id': 'req_PIITbREOP89ywy', {"user":"      'request-id': 'req_PIITbREOP89ywy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_PIITbREOP89ywy',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_PIITbREOP89ywy' {"user":"    requestId: 'req_PIITbREOP89ywy'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_PIITbREOP89ywy'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 16:28:03 GMT', {"user":"    date: 'Mon, 16 Jan 2023 16:28:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 16:28:03 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548', {"user":"    'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd657d2f9-ceee-457b-a708-2ffd83461548',\r"}}
[info] >      'original-request': 'req_PIITbREOP89ywy', {"user":"    'original-request': 'req_PIITbREOP89ywy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_PIITbREOP89ywy',\r"}}
[info] >      'request-id': 'req_PIITbREOP89ywy', {"user":"    'request-id': 'req_PIITbREOP89ywy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_PIITbREOP89ywy',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_PIITbREOP89ywy', {"user":"  requestId: 'req_PIITbREOP89ywy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_PIITbREOP89ywy',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T16:28:03.841Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:28:03.842Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: exited"}}
[debug] [2023-01-16T16:28:03.843Z] [worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-05c7bd72-e09e-4cb7-bc22-7f1bc4cb0111]: FINISHED"}}
[debug] [2023-01-16T16:48:02.271Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:02.271Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:48:02.272Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:02.271Z"],"workRunningCount":1}
[debug] [2023-01-16T16:48:02.272Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=92999 --> us-central1-api
[debug] [2023-01-16T16:48:02.456Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:48:02.457Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=92999, mapping to path=/payments/create?total=92999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=92999, mapping to path=/payments/create?total=92999"}}
[debug] [2023-01-16T16:48:02.457Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 3"}}
[debug] [2023-01-16T16:48:02.528Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:48:02.528Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-16T16:48:32.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:48:41.634Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:41.634Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:48:41.634Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:41.634Z"],"workRunningCount":1}
[debug] [2023-01-16T16:48:41.635Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:48:41.879Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:48:41.880Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:48:41.914Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:48:41.914Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-01-16T16:48:48.828Z] [runtime-status] [22816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:48.868Z] [runtime-status] [22816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:48.871Z] [runtime-status] [22816] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:48:48.878Z] [runtime-status] [22816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:51.537Z] [runtime-status] [22932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:51.545Z] [runtime-status] [22932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:51.547Z] [runtime-status] [22932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:48:51.553Z] [runtime-status] [22932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:56.589Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:56.556Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:41.634Z"],"workRunningCount":1}
[debug] [2023-01-16T16:48:56.590Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:41.634Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:56.556Z"],"workRunningCount":2}
[debug] [2023-01-16T16:48:56.591Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=92999 --> us-central1-api
[debug] [2023-01-16T16:48:56.641Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:48:56.641Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=92999, mapping to path=/payments/create?total=92999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=92999, mapping to path=/payments/create?total=92999"}}
[debug] [2023-01-16T16:48:56.663Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:48:56.663Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-01-16T16:48:59.303Z] [runtime-status] [22932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:48:59.304Z] [runtime-status] [22816] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:48:59.304Z] [runtime-status] [22816] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:48:59.305Z] [runtime-status] [22932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:48:59.307Z] [runtime-status] [22816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.308Z] [runtime-status] [22932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.312Z] [runtime-status] [22816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.313Z] [runtime-status] [22932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.418Z] [runtime-status] [22816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.419Z] [runtime-status] [22932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:48:59.420Z] [runtime-status] [22816] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:48:59.420Z] [runtime-status] [22932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:49:02.386Z] [runtime-status] [3080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:02.394Z] [runtime-status] [3080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:02.396Z] [runtime-status] [3080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:49:02.399Z] [runtime-status] [3080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:03.387Z] [runtime-status] [3080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:49:03.388Z] [runtime-status] [3080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:49:03.393Z] [runtime-status] [3080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:03.398Z] [runtime-status] [3080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:03.404Z] [runtime-status] [3080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:49:03.405Z] [runtime-status] [3080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:49:04.985Z] [runtime-status] [3080] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:49:04.988Z] [runtime-status] [22932] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:49:04.988Z] [runtime-status] [3080] Listening to port: \\?\pipe\fire_emu_3200ccd26de99d14 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3080] Listening to port: \\\\?\\pipe\\fire_emu_3200ccd26de99d14"}}
[debug] [2023-01-16T16:49:04.989Z] [runtime-status] [22932] Listening to port: \\?\pipe\fire_emu_9c96a52a735433b1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22932] Listening to port: \\\\?\\pipe\\fire_emu_9c96a52a735433b1"}}
[debug] [2023-01-16T16:49:05.038Z] [runtime-status] [22816] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:49:05.039Z] [runtime-status] [22816] Listening to port: \\?\pipe\fire_emu_9b39b16fd2199ebd {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22816] Listening to port: \\\\?\\pipe\\fire_emu_9b39b16fd2199ebd"}}
[debug] [2023-01-16T16:49:05.155Z] [worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: IDLE"}}
[debug] [2023-01-16T16:49:05.155Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:49:05.156Z] [worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: BUSY"}}
[debug] [2023-01-16T16:49:05.168Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: IDLE"}}
[debug] [2023-01-16T16:49:05.168Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:49:05.169Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  92999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  92999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  92999"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_tO3Pi4EXG8bbuB?t=1673887746', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_tO3Pi4EXG8bbuB?t=1673887746',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_tO3Pi4EXG8bbuB?t=1673887746',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 16:49:06 GMT', {"user":"      date: 'Mon, 16 Jan 2023 16:49:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 16:49:06 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc', {"user":"      'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc',\r"}}
[info] >        'original-request': 'req_tO3Pi4EXG8bbuB', {"user":"      'original-request': 'req_tO3Pi4EXG8bbuB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tO3Pi4EXG8bbuB',\r"}}
[info] >        'request-id': 'req_tO3Pi4EXG8bbuB', {"user":"      'request-id': 'req_tO3Pi4EXG8bbuB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tO3Pi4EXG8bbuB',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_tO3Pi4EXG8bbuB' {"user":"    requestId: 'req_tO3Pi4EXG8bbuB'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tO3Pi4EXG8bbuB'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 16:49:06 GMT', {"user":"    date: 'Mon, 16 Jan 2023 16:49:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 16:49:06 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc', {"user":"    'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e14beba1-f505-4b46-b2b1-61e1a2d8e7fc',\r"}}
[info] >      'original-request': 'req_tO3Pi4EXG8bbuB', {"user":"    'original-request': 'req_tO3Pi4EXG8bbuB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tO3Pi4EXG8bbuB',\r"}}
[info] >      'request-id': 'req_tO3Pi4EXG8bbuB', {"user":"    'request-id': 'req_tO3Pi4EXG8bbuB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tO3Pi4EXG8bbuB',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_tO3Pi4EXG8bbuB', {"user":"  requestId: 'req_tO3Pi4EXG8bbuB',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tO3Pi4EXG8bbuB',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T16:49:07.378Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:48:56.556Z"],"workRunningCount":1}
[debug] [2023-01-16T16:49:07.383Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: IDLE"}}
[debug] [2023-01-16T16:49:07.383Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2038.5822ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2038.5822ms"}}
[debug] [2023-01-16T16:49:07.399Z] [worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: exited"}}
[debug] [2023-01-16T16:49:07.399Z] [worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7d6f2ae3-ab6d-4646-9d67-732fb7fa140e]: FINISHED"}}
[debug] [2023-01-16T16:49:28.437Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:49:28.436Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:49:28.437Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:49:28.436Z"],"workRunningCount":1}
[debug] [2023-01-16T16:49:28.437Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:49:28.444Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:49:28.445Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:49:28.445Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 5"}}
[debug] [2023-01-16T16:49:28.446Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:49:28.446Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_pPckMadCFvqy2q?t=1673887768', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_pPckMadCFvqy2q?t=1673887768',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_pPckMadCFvqy2q?t=1673887768',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 16:49:28 GMT', {"user":"      date: 'Mon, 16 Jan 2023 16:49:28 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 16:49:28 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2', {"user":"      'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2',\r"}}
[info] >        'original-request': 'req_pPckMadCFvqy2q', {"user":"      'original-request': 'req_pPckMadCFvqy2q',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_pPckMadCFvqy2q',\r"}}
[info] >        'request-id': 'req_pPckMadCFvqy2q', {"user":"      'request-id': 'req_pPckMadCFvqy2q',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_pPckMadCFvqy2q',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_pPckMadCFvqy2q' {"user":"    requestId: 'req_pPckMadCFvqy2q'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_pPckMadCFvqy2q'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 16:49:28 GMT', {"user":"    date: 'Mon, 16 Jan 2023 16:49:28 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 16:49:28 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2', {"user":"    'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'f941e49d-52bd-41fa-8f58-899af523abd2',\r"}}
[info] >      'original-request': 'req_pPckMadCFvqy2q', {"user":"    'original-request': 'req_pPckMadCFvqy2q',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_pPckMadCFvqy2q',\r"}}
[info] >      'request-id': 'req_pPckMadCFvqy2q', {"user":"    'request-id': 'req_pPckMadCFvqy2q',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_pPckMadCFvqy2q',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_pPckMadCFvqy2q', {"user":"  requestId: 'req_pPckMadCFvqy2q',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_pPckMadCFvqy2q',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T16:49:29.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:49:29.310Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: exited"}}
[debug] [2023-01-16T16:49:29.310Z] [worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885aaa78-1aea-4834-ab27-d694db3f9339]: FINISHED"}}
[debug] [2023-01-16T16:52:03.642Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-16T16:52:03.643Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T16:52:03.643Z] Accepted request OPTIONS /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T16:52:03.651Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:52:03.652Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T16:52:03.652Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 4"}}
[debug] [2023-01-16T16:52:03.715Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:52:03.715Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-01-16T16:52:03.857Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.857Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T16:52:03.857Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.857Z"],"workRunningCount":2}
[debug] [2023-01-16T16:52:03.858Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T16:52:03.864Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:52:03.865Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T16:52:03.884Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T16:52:03.885Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-01-16T16:52:14.733Z] [runtime-status] [21272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:14.739Z] [runtime-status] [24484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:14.746Z] [runtime-status] [21272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:14.747Z] [runtime-status] [24484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:14.748Z] [runtime-status] [24484] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:52:14.749Z] [runtime-status] [21272] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T16:52:14.753Z] [runtime-status] [24484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:14.754Z] [runtime-status] [21272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.711Z] [runtime-status] [24484] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:52:20.712Z] [runtime-status] [21272] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T16:52:20.712Z] [runtime-status] [24484] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:52:20.713Z] [runtime-status] [21272] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T16:52:20.716Z] [runtime-status] [24484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.716Z] [runtime-status] [21272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.720Z] [runtime-status] [21272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.721Z] [runtime-status] [24484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.801Z] [runtime-status] [21272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.802Z] [runtime-status] [24484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T16:52:20.803Z] [runtime-status] [21272] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:52:20.804Z] [runtime-status] [24484] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T16:52:24.201Z] [runtime-status] [21272] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:52:24.202Z] [runtime-status] [24484] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T16:52:24.202Z] [runtime-status] [21272] Listening to port: \\?\pipe\fire_emu_fce18b80fb21856c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21272] Listening to port: \\\\?\\pipe\\fire_emu_fce18b80fb21856c"}}
[debug] [2023-01-16T16:52:24.202Z] [runtime-status] [24484] Listening to port: \\?\pipe\fire_emu_425324e964a05b3e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24484] Listening to port: \\\\?\\pipe\\fire_emu_425324e964a05b3e"}}
[debug] [2023-01-16T16:52:24.317Z] [worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: IDLE"}}
[debug] [2023-01-16T16:52:24.318Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:52:24.318Z] [worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: BUSY"}}
[debug] [2023-01-16T16:52:24.320Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE"}}
[debug] [2023-01-16T16:52:24.320Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:52:24.320Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24999"}}
[info] i  functions: Finished "api" in 10.5312ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 10.5312ms"}}
[debug] [2023-01-16T16:52:27.357Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE"}}
[debug] [2023-01-16T16:52:27.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 3027.2784ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3027.2784ms"}}
[debug] [2023-01-16T16:52:41.902Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:41.902Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T16:52:41.903Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:41.902Z"],"workRunningCount":2}
[debug] [2023-01-16T16:52:41.903Z] Accepted request OPTIONS /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:52:41.911Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:52:41.912Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:52:41.912Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:52:41.913Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-16T16:52:41.929Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: IDLE"}}
[debug] [2023-01-16T16:52:41.929Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 4.3929ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.3929ms"}}
[debug] [2023-01-16T16:52:41.934Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:41.934Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T16:52:41.934Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:41.934Z"],"workRunningCount":2}
[debug] [2023-01-16T16:52:41.935Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T16:52:41.941Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T16:52:41.942Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T16:52:41.943Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T16:52:41.943Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_EAUnMzW86oJt8f?t=1673887962', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_EAUnMzW86oJt8f?t=1673887962',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_EAUnMzW86oJt8f?t=1673887962',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 16:52:42 GMT', {"user":"      date: 'Mon, 16 Jan 2023 16:52:42 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 16:52:42 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c', {"user":"      'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c',\r"}}
[info] >        'original-request': 'req_EAUnMzW86oJt8f', {"user":"      'original-request': 'req_EAUnMzW86oJt8f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_EAUnMzW86oJt8f',\r"}}
[info] >        'request-id': 'req_EAUnMzW86oJt8f', {"user":"      'request-id': 'req_EAUnMzW86oJt8f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_EAUnMzW86oJt8f',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_EAUnMzW86oJt8f' {"user":"    requestId: 'req_EAUnMzW86oJt8f'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_EAUnMzW86oJt8f'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 16:52:42 GMT', {"user":"    date: 'Mon, 16 Jan 2023 16:52:42 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 16:52:42 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c', {"user":"    'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '54903875-6294-48d8-b83c-e1c99a212e0c',\r"}}
[info] >      'original-request': 'req_EAUnMzW86oJt8f', {"user":"    'original-request': 'req_EAUnMzW86oJt8f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_EAUnMzW86oJt8f',\r"}}
[info] >      'request-id': 'req_EAUnMzW86oJt8f', {"user":"    'request-id': 'req_EAUnMzW86oJt8f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_EAUnMzW86oJt8f',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_EAUnMzW86oJt8f', {"user":"  requestId: 'req_EAUnMzW86oJt8f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_EAUnMzW86oJt8f',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T16:52:42.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T16:52:42.839Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: exited"}}
[debug] [2023-01-16T16:52:42.839Z] [worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c513cb5-bb08-4269-a5ef-acc0ac9f7809]: FINISHED"}}
[debug] [2023-01-16T17:00:19.696Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:00:19.696Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:00:19.697Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:00:19.696Z"],"workRunningCount":2}
[debug] [2023-01-16T17:00:19.697Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T17:00:19.793Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:00:19.793Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T17:00:19.794Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 5"}}
[debug] [2023-01-16T17:00:19.855Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T17:00:19.855Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-01-16T17:00:39.480Z] [runtime-status] [8096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:39.521Z] [runtime-status] [8096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:39.522Z] [runtime-status] [8096] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T17:00:39.525Z] [runtime-status] [8096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:44.276Z] [runtime-status] [8096] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T17:00:44.276Z] [runtime-status] [8096] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T17:00:44.278Z] [runtime-status] [8096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:44.281Z] [runtime-status] [8096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:44.333Z] [runtime-status] [8096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:00:44.334Z] [runtime-status] [8096] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T17:00:47.438Z] [runtime-status] [8096] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T17:00:47.445Z] [runtime-status] [8096] Listening to port: \\?\pipe\fire_emu_f58de1a14e1cb346 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8096] Listening to port: \\\\?\\pipe\\fire_emu_f58de1a14e1cb346"}}
[debug] [2023-01-16T17:00:47.540Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE"}}
[debug] [2023-01-16T17:00:47.540Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:00:47.541Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24999"}}
[debug] [2023-01-16T17:00:49.017Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE"}}
[debug] [2023-01-16T17:00:49.036Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 1469.6183ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1469.6183ms"}}
[debug] [2023-01-16T17:02:37.913Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:02:37.913Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:02:37.914Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:02:37.913Z"],"workRunningCount":2}
[debug] [2023-01-16T17:02:37.914Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=20499 --> us-central1-api
[debug] [2023-01-16T17:02:38.019Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:02:38.020Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=20499, mapping to path=/payments/create?total=20499"}}
[debug] [2023-01-16T17:02:38.020Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:02:38.021Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  20499 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  20499","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  20499"}}
[debug] [2023-01-16T17:02:38.703Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: IDLE"}}
[debug] [2023-01-16T17:02:38.703Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 670.1371ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 670.1371ms"}}
[debug] [2023-01-16T17:02:51.564Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:02:51.564Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:02:51.565Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:02:51.564Z"],"workRunningCount":2}
[debug] [2023-01-16T17:02:51.565Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T17:02:51.624Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:02:51.625Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T17:02:51.625Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:02:51.625Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_59bR4EKQSk93RH?t=1673888571', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_59bR4EKQSk93RH?t=1673888571',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_59bR4EKQSk93RH?t=1673888571',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 17:02:51 GMT', {"user":"      date: 'Mon, 16 Jan 2023 17:02:51 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 17:02:51 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62', {"user":"      'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62',\r"}}
[info] >        'original-request': 'req_59bR4EKQSk93RH', {"user":"      'original-request': 'req_59bR4EKQSk93RH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_59bR4EKQSk93RH',\r"}}
[info] >        'request-id': 'req_59bR4EKQSk93RH', {"user":"      'request-id': 'req_59bR4EKQSk93RH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_59bR4EKQSk93RH',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_59bR4EKQSk93RH' {"user":"    requestId: 'req_59bR4EKQSk93RH'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_59bR4EKQSk93RH'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 17:02:51 GMT', {"user":"    date: 'Mon, 16 Jan 2023 17:02:51 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 17:02:51 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62', {"user":"    'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '4626c514-141f-4ca6-9028-12b7cccf3e62',\r"}}
[info] >      'original-request': 'req_59bR4EKQSk93RH', {"user":"    'original-request': 'req_59bR4EKQSk93RH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_59bR4EKQSk93RH',\r"}}
[info] >      'request-id': 'req_59bR4EKQSk93RH', {"user":"    'request-id': 'req_59bR4EKQSk93RH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_59bR4EKQSk93RH',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_59bR4EKQSk93RH', {"user":"  requestId: 'req_59bR4EKQSk93RH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_59bR4EKQSk93RH',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T17:02:52.727Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:02:52.729Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: exited"}}
[debug] [2023-01-16T17:02:52.729Z] [worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-359e8fda-95ca-48f7-aebf-4d60ee19003e]: FINISHED"}}
[debug] [2023-01-16T17:16:10.423Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:16:10.423Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:16:10.423Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:16:10.423Z"],"workRunningCount":2}
[debug] [2023-01-16T17:16:10.424Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T17:16:10.449Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:16:10.461Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T17:16:10.461Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 5"}}
[debug] [2023-01-16T17:16:10.515Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T17:16:10.531Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-01-16T17:16:27.239Z] [runtime-status] [1512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:27.254Z] [runtime-status] [1512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:27.255Z] [runtime-status] [1512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T17:16:27.257Z] [runtime-status] [1512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:30.769Z] [runtime-status] [1512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T17:16:30.770Z] [runtime-status] [1512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T17:16:30.774Z] [runtime-status] [1512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:30.777Z] [runtime-status] [1512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:30.835Z] [runtime-status] [1512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:16:30.836Z] [runtime-status] [1512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T17:16:33.321Z] [runtime-status] [1512] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T17:16:33.321Z] [runtime-status] [1512] Listening to port: \\?\pipe\fire_emu_73ba5a2d78773d3e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1512] Listening to port: \\\\?\\pipe\\fire_emu_73ba5a2d78773d3e"}}
[debug] [2023-01-16T17:16:33.408Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: IDLE"}}
[debug] [2023-01-16T17:16:33.408Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:16:33.409Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24999"}}
[debug] [2023-01-16T17:16:35.048Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: IDLE"}}
[debug] [2023-01-16T17:16:35.049Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 1628.4886999999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1628.4886999999999ms"}}
[debug] [2023-01-16T17:17:30.419Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:17:30.418Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:17:30.419Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:17:30.418Z"],"workRunningCount":2}
[debug] [2023-01-16T17:17:30.419Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T17:17:30.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:17:30.427Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T17:17:30.427Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:17:30.428Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_wX3S5WEdQJsRCi?t=1673889450', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_wX3S5WEdQJsRCi?t=1673889450',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_wX3S5WEdQJsRCi?t=1673889450',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 17:17:30 GMT', {"user":"      date: 'Mon, 16 Jan 2023 17:17:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 17:17:30 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0', {"user":"      'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0',\r"}}
[info] >        'original-request': 'req_wX3S5WEdQJsRCi', {"user":"      'original-request': 'req_wX3S5WEdQJsRCi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_wX3S5WEdQJsRCi',\r"}}
[info] >        'request-id': 'req_wX3S5WEdQJsRCi', {"user":"      'request-id': 'req_wX3S5WEdQJsRCi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_wX3S5WEdQJsRCi',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_wX3S5WEdQJsRCi' {"user":"    requestId: 'req_wX3S5WEdQJsRCi'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_wX3S5WEdQJsRCi'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 17:17:30 GMT', {"user":"    date: 'Mon, 16 Jan 2023 17:17:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 17:17:30 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0', {"user":"    'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd32c79da-86d8-42d9-9b7b-dd8b01110bb0',\r"}}
[info] >      'original-request': 'req_wX3S5WEdQJsRCi', {"user":"    'original-request': 'req_wX3S5WEdQJsRCi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_wX3S5WEdQJsRCi',\r"}}
[info] >      'request-id': 'req_wX3S5WEdQJsRCi', {"user":"    'request-id': 'req_wX3S5WEdQJsRCi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_wX3S5WEdQJsRCi',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_wX3S5WEdQJsRCi', {"user":"  requestId: 'req_wX3S5WEdQJsRCi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_wX3S5WEdQJsRCi',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T17:17:31.649Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:17:31.649Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: exited"}}
[debug] [2023-01-16T17:17:31.650Z] [worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-92c61948-cb19-4fad-807c-06b055192625]: FINISHED"}}
[debug] [2023-01-16T17:17:45.963Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:17:45.962Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:17:45.963Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:17:45.962Z"],"workRunningCount":2}
[debug] [2023-01-16T17:17:45.963Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T17:17:45.972Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:17:45.972Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T17:17:45.972Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 5"}}
[debug] [2023-01-16T17:17:46.005Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T17:17:46.005Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-01-16T17:17:50.945Z] [runtime-status] [20356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:50.951Z] [runtime-status] [20356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:50.953Z] [runtime-status] [20356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T17:17:50.957Z] [runtime-status] [20356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:51.535Z] [runtime-status] [20356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T17:17:51.535Z] [runtime-status] [20356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T17:17:51.538Z] [runtime-status] [20356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:51.541Z] [runtime-status] [20356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:51.547Z] [runtime-status] [20356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:17:51.547Z] [runtime-status] [20356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T17:17:51.942Z] [runtime-status] [20356] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T17:17:51.943Z] [runtime-status] [20356] Listening to port: \\?\pipe\fire_emu_015f2b60ab4d1fd3 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20356] Listening to port: \\\\?\\pipe\\fire_emu_015f2b60ab4d1fd3"}}
[debug] [2023-01-16T17:17:52.024Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: IDLE"}}
[debug] [2023-01-16T17:17:52.025Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:17:52.025Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24999"}}
[debug] [2023-01-16T17:17:53.364Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: IDLE"}}
[debug] [2023-01-16T17:17:53.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 1328.5326ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1328.5326ms"}}
[debug] [2023-01-16T17:18:08.436Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:18:08.436Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:18:08.437Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:18:08.436Z"],"workRunningCount":2}
[debug] [2023-01-16T17:18:08.437Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T17:18:08.463Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:18:08.464Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T17:18:08.464Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:18:08.464Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_hsu8R1QUGjsw5n?t=1673889488', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_hsu8R1QUGjsw5n?t=1673889488',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_hsu8R1QUGjsw5n?t=1673889488',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 17:18:08 GMT', {"user":"      date: 'Mon, 16 Jan 2023 17:18:08 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 17:18:08 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092', {"user":"      'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092',\r"}}
[info] >        'original-request': 'req_hsu8R1QUGjsw5n', {"user":"      'original-request': 'req_hsu8R1QUGjsw5n',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_hsu8R1QUGjsw5n',\r"}}
[info] >        'request-id': 'req_hsu8R1QUGjsw5n', {"user":"      'request-id': 'req_hsu8R1QUGjsw5n',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_hsu8R1QUGjsw5n',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_hsu8R1QUGjsw5n' {"user":"    requestId: 'req_hsu8R1QUGjsw5n'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_hsu8R1QUGjsw5n'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 17:18:08 GMT', {"user":"    date: 'Mon, 16 Jan 2023 17:18:08 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 17:18:08 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092', {"user":"    'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a3664d4c-df14-4162-bdb5-50d1bb9f1092',\r"}}
[info] >      'original-request': 'req_hsu8R1QUGjsw5n', {"user":"    'original-request': 'req_hsu8R1QUGjsw5n',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_hsu8R1QUGjsw5n',\r"}}
[info] >      'request-id': 'req_hsu8R1QUGjsw5n', {"user":"    'request-id': 'req_hsu8R1QUGjsw5n',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_hsu8R1QUGjsw5n',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_hsu8R1QUGjsw5n', {"user":"  requestId: 'req_hsu8R1QUGjsw5n',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_hsu8R1QUGjsw5n',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T17:18:09.033Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:18:09.033Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: exited"}}
[debug] [2023-01-16T17:18:09.034Z] [worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-692c9627-8c99-48a3-8695-7b41261ac1c8]: FINISHED"}}
[debug] [2023-01-16T17:23:17.791Z] File E:\projets-local\amazon-clone\functions\package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\package-lock.json changed, reloading triggers"}}
[debug] [2023-01-16T17:23:18.807Z] Validating nodejs source
[debug] [2023-01-16T17:23:23.657Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^11.6.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T17:23:23.657Z] Building nodejs source
[debug] [2023-01-16T17:23:23.658Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T17:23:24.514Z] Serving at port 9005

[debug] [2023-01-16T17:23:25.449Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T17:23:25.458Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-16T17:23:25.545Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-01-16T17:23:25.545Z] [worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5993b9fa-1689-4065-872b-9e6c57ec08fb]: FINISHING"}}
[debug] [2023-01-16T17:38:18.942Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:38:18.942Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:38:18.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:38:18.942Z"],"workRunningCount":2}
[debug] [2023-01-16T17:38:18.943Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T17:38:18.971Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:38:18.973Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T17:38:18.973Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 5"}}
[debug] [2023-01-16T17:38:19.043Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T17:38:19.044Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\DELL\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-16T17:38:49.138Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:38:58.553Z] [runtime-status] [11776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:38:58.581Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:38:58.583Z] [runtime-status] [11776] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T17:38:58.587Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:03.955Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:39:03.955Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:39:03.955Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:39:03.955Z"],"workRunningCount":2}
[debug] [2023-01-16T17:39:03.955Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=24999 --> us-central1-api
[debug] [2023-01-16T17:39:03.963Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:39:03.965Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=24999, mapping to path=/payments/create?total=24999"}}
[debug] [2023-01-16T17:39:04.010Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-16T17:39:04.010Z] [worker-pool] Adding worker with key us-central1-api, total=7 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=7"}}
[debug] [2023-01-16T17:39:06.537Z] [runtime-status] [11776] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T17:39:06.537Z] [runtime-status] [11776] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T17:39:06.541Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:06.546Z] [runtime-status] [11776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:06.761Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:06.762Z] [runtime-status] [11776] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T17:39:09.968Z] [runtime-status] [17544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:09.975Z] [runtime-status] [17544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:09.977Z] [runtime-status] [17544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-16T17:39:09.981Z] [runtime-status] [17544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:11.087Z] [runtime-status] [17544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-16T17:39:11.088Z] [runtime-status] [17544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-01-16T17:39:11.093Z] [runtime-status] [17544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:11.099Z] [runtime-status] [17544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:11.109Z] [runtime-status] [17544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-01-16T17:39:11.110Z] [runtime-status] [17544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.0","resolution":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.0\",\"resolution\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-01-16T17:39:13.441Z] [runtime-status] [11776] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T17:39:13.441Z] [runtime-status] [11776] Listening to port: \\?\pipe\fire_emu_29c9914eef700e96 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Listening to port: \\\\?\\pipe\\fire_emu_29c9914eef700e96"}}
[debug] [2023-01-16T17:39:13.442Z] [runtime-status] [17544] Functions runtime initialized. {"cwd":"E:\\projets-local\\amazon-clone\\functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Functions runtime initialized. {\"cwd\":\"E:\\\\projets-local\\\\amazon-clone\\\\functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-16T17:39:13.442Z] [runtime-status] [17544] Listening to port: \\?\pipe\fire_emu_58ff3a018229f862 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17544] Listening to port: \\\\?\\pipe\\fire_emu_58ff3a018229f862"}}
[debug] [2023-01-16T17:39:13.504Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: IDLE"}}
[debug] [2023-01-16T17:39:13.504Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:39:13.504Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24999 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24999"}}
[debug] [2023-01-16T17:39:15.497Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: IDLE"}}
[debug] [2023-01-16T17:39:15.498Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[info] i  functions: Finished "api" in 1977.0934ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1977.0934ms"}}
[debug] [2023-01-16T17:39:29.917Z] [work-queue] {"queuedWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:39:29.917Z"],"queueLength":1,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:39:29.918Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z","/chall-dcfa5/us-central1/api/payments/create-2023-01-16T17:39:29.917Z"],"workRunningCount":2}
[debug] [2023-01-16T17:39:29.918Z] Accepted request POST /chall-dcfa5/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-01-16T17:39:29.925Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-16T17:39:29.926Z] [functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chall-dcfa5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-01-16T17:39:29.926Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-16T17:39:29.927Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38 {"user":"E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\Error.js:38:16) {"user":"    at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:38:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (E:\projets-local\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:190:35) {"user":"    at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (E:\\projets-local\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_fqTilUGhWIzvTV?t=1673890770', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_fqTilUGhWIzvTV?t=1673890770',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_fqTilUGhWIzvTV?t=1673890770',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 16 Jan 2023 17:39:30 GMT', {"user":"      date: 'Mon, 16 Jan 2023 17:39:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 16 Jan 2023 17:39:30 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950', {"user":"      'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950',\r"}}
[info] >        'original-request': 'req_fqTilUGhWIzvTV', {"user":"      'original-request': 'req_fqTilUGhWIzvTV',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_fqTilUGhWIzvTV',\r"}}
[info] >        'request-id': 'req_fqTilUGhWIzvTV', {"user":"      'request-id': 'req_fqTilUGhWIzvTV',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_fqTilUGhWIzvTV',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_fqTilUGhWIzvTV' {"user":"    requestId: 'req_fqTilUGhWIzvTV'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_fqTilUGhWIzvTV'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 16 Jan 2023 17:39:30 GMT', {"user":"    date: 'Mon, 16 Jan 2023 17:39:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 16 Jan 2023 17:39:30 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950', {"user":"    'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '4a57a164-7f7c-4c9c-9817-d2667ec53950',\r"}}
[info] >      'original-request': 'req_fqTilUGhWIzvTV', {"user":"    'original-request': 'req_fqTilUGhWIzvTV',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_fqTilUGhWIzvTV',\r"}}
[info] >      'request-id': 'req_fqTilUGhWIzvTV', {"user":"    'request-id': 'req_fqTilUGhWIzvTV',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_fqTilUGhWIzvTV',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_fqTilUGhWIzvTV', {"user":"  requestId: 'req_fqTilUGhWIzvTV',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_fqTilUGhWIzvTV',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2023-01-16T17:39:31.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chall-dcfa5/us-central1/api/payments/create-2023-01-16T16:52:03.641Z"],"workRunningCount":1}
[debug] [2023-01-16T17:39:31.301Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: exited"}}
[debug] [2023-01-16T17:39:31.302Z] [worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2165263f-7466-40f4-8125-bcf6644ee770]: FINISHED"}}
[debug] [2023-01-16T18:25:06.854Z] File E:\projets-local\amazon-clone\functions\package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\projets-local\\amazon-clone\\functions\\package-lock.json changed, reloading triggers"}}
[debug] [2023-01-16T18:25:07.926Z] Validating nodejs source
[debug] [2023-01-16T18:25:23.709Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.0",
    "firebase-functions": "^4.1.1",
    "stripe": "^11.6.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-16T18:25:23.710Z] Building nodejs source
[debug] [2023-01-16T18:25:23.715Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-16T18:25:32.297Z] Serving at port 9005

[debug] [2023-01-16T18:25:41.502Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-16T18:25:41.515Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
